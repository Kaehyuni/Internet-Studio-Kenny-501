
/* ========== Base / Variables ========== */
:root{
  /* Text colors */
  --title-h1: #2F7C78;               /* H1 */
  --body-headings: #0E3F3C;          /* H2â€“H4 + P */

  /* Box fills @ 75% */
  --band-fill: rgba(218,215,170,0.75);   /* #DAD7AA */
  --card-fill: rgba(255,253,204,0.75);   /* #FFFDCC */
  --changes-fill: rgba(180,238,202,0.75);/* mint band for changes */

  /* Background controls */
  --tint-alpha: 0.55;                 /* gradient tint strength */
  --tile-size: 300px;                 /* pattern density */
  
  /* Layout */
  --container-max: 1080px;
  --pad-xl: 40px;
  --pad-lg: 32px;
  --pad-md: 24px;
  --pad-sm: 16px;
  --radius-xl: 18px;
  --radius-lg: 14px;
  --shadow-md: 0 10px 28px rgba(0,0,0,0.10), 0 4px 12px rgba(0,0,0,0.06);
  --shadow-sm: 0 2px 6px rgba(0,0,0,0.08);
}

/* ========== Reset & Base Type ========== */
*{ box-sizing: border-box; }
html, body{ margin:0; padding:0; }

body{
  font-family:"EB Garamond", serif;
  color:var(--body-headings);
  line-height:1.75;
  background:#fff;        /* base behind pattern */
  position:relative;      /* for ::after overlay */
  isolation:isolate;      /* keeps z-index:-1 safe */
}

/* Small UI text */
.site-label, .back-link, .footer-note{
  font-family:"BBH Sans Hegarty", sans-serif;
  letter-spacing:.02em;
}

/* Titles */
.page-title, h1{
  font-family:"Bebas Neue", sans-serif;
  letter-spacing:.5px;
  color:var(--title-h1);
  text-transform:uppercase;
  margin:0;
}

h2,h3,h4,p{ margin-block:0 0.6em; color:var(--body-headings); }
h2{ font-weight:700; font-size:1.8rem; }
h3{ font-weight:600; font-size:1.3rem; }
p { font-size:1.08rem; }

/* ========== Background Pattern (fixed) ========== */
body.mirrored-pattern{
  background-image:
    linear-gradient(45deg,
      rgba(218,215,170,var(--tint-alpha)) 0%,
      rgba(180,238,202,var(--tint-alpha)) 100%
    ),
    url("images/background_tile.png");
  background-repeat: no-repeat, repeat;
  background-size: 100% 100%, var(--tile-size) var(--tile-size);
  background-position: 0 0, 0 0;
  background-attachment: fixed, fixed;   /* keeps background still */
  background-blend-mode: screen;         /* tints the tile */
}

/* mirrored overlay (also fixed) */
body.mirrored-pattern::after{
  content:"";
  position: fixed;       
  inset: 0;
  z-index: -1;
  pointer-events: none;

  background-image:
    linear-gradient(45deg,
      rgba(218,215,170,var(--tint-alpha)) 0%,
      rgba(180,238,202,var(--tint-alpha)) 100%
    ),
    url("images/background_tile.png");
  background-repeat: no-repeat, repeat;
  background-size: 100% 100%, var(--tile-size) var(--tile-size);
  background-position: 0 0, var(--tile-size) var(--tile-size); 
  background-attachment: fixed, fixed;   
  background-blend-mode: screen;

  transform: scale(-1);  
  opacity: 0.45;         
}

/* ========== Top Nav ========== */
.top-nav{
  max-width:var(--container-max);
  margin:var(--pad-sm) auto 0;
  padding:0 var(--pad-sm);
}
.back-link{
  text-decoration:none;
  color:var(--body-headings);
  font-size:.95rem;
}

/* ========== Title Banner ========== */
.title-band{
  max-width:var(--container-max);
  margin: 36px auto 0;
  padding: var(--pad-xl) var(--pad-lg);
  background: var(--band-fill);
  border-radius: var(--radius-xl);
  box-shadow:
    0 0 20px 3px rgba(101, 255, 203, 0.7),   
    var(--shadow-md);
  border: 1px solid rgba(101, 255, 203, 0.4);
}
.title-band .page-title{
  font-size: clamp(2.2rem, 3.6vw + 1rem, 3.2rem);
}

/* Title + hats inline after title */
.title-band .title-bar{
  display:flex;
  align-items: baseline;         /* align hats to title text */
  justify-content:flex-start;    /* line up left */
  gap: 12px;
  flex-wrap: nowrap;
}

/* Tiny hats row */
.hat-row{
  display:flex;
  gap: 6px;
  margin-left: 8px;
  align-items:baseline;
}
.hat-row img{
  width: 30px;
  height: auto;
  display:block;
  filter: drop-shadow(0 1px 1px rgba(0,0,0,0.10));
}

/* Responsive hats */
@media (max-width: 780px){
  .hat-row img{ width: 18px; }
}
@media (max-width: 560px){
  .title-band .title-bar{ flex-wrap: wrap; }
  .hat-row{ order: 2; margin-left: 0; justify-content:center; }
  .hat-row img{ width: 16px; }
}

/* ========== Worksheet Card (two columns) ========== */
.worksheet-card{
  max-width: var(--container-max);
  margin: 22px auto 56px;
  padding: var(--pad-lg);
  background: var(--card-fill);
  border-radius: var(--radius-xl);
  box-shadow:
    0 0 20px 3px rgba(101, 255, 203, 0.7),
    var(--shadow-md);
  border: 1px solid rgba(101, 255, 203, 0.4);

  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  column-gap: 28px;
  row-gap: 22px;
}

/* pill label */
.section-label{
  grid-column: 1 / -1;
  display:inline-block;
  background: var(--band-fill);
  color: var(--body-headings);
  padding: 8px 16px;
  border-radius: 9999px;
  box-shadow: var(--shadow-sm);
  font-size:.98rem;
  margin: 0 0 4px 6px;
}

/* ========== Hat Sections ========== */
.hat-section{
  padding: 10px 6px 8px;
  border-bottom: 1px solid rgba(0,0,0,0.06);
}

/* heading with small icon bullet */
.hat-heading{
  display:flex;
  align-items:center;
  gap:10px;
  margin:0 0 8px;
}
.hat-icon{
  width: 34px;
  height: auto;
  flex: 0 0 auto;
  vertical-align: middle;
}

/* ========== Green Changes Band ========== */
.hat-section.changes{
  grid-column: 1 / -1;
  background: var(--changes-fill);
  border-radius: var(--radius-lg);
  padding: 12px var(--pad-md);
  margin-top: 10px;
  box-shadow:
    0 0 20px 3px rgba(101, 255, 203, 0.7),
    var(--shadow-sm);
  border: 1px solid rgba(101, 255, 203, 0.4);
  border-bottom: none;
}
.hat-section.changes .hat-heading{
  margin: 4px 0 0;
}

/* ========== Footer ========== */
.site-footer{
  max-width:var(--container-max);
  margin: 0 auto var(--pad-md);
  padding: 0 var(--pad-sm);
  text-align:center;
}
.footer-note{
  margin: 8px 0 0;
  font-size: 1.25rem;
  font-family:"Bebas Neue", sans-serif;
  letter-spacing:.5px;
  color: var(--title-h1);
}

/* ========== Responsive Tweaks ========== */
@media (max-width: 900px){
  .worksheet-card{ grid-template-columns: 1fr; }
  .hat-section{ border-bottom-color: rgba(0,0,0,0.08); }
}
@media (max-width: 600px){
  .title-band{ padding: var(--pad-lg); border-radius: var(--radius-lg); }
  .worksheet-card{ padding: var(--pad-md); border-radius: var(--radius-lg); }
  .hat-icon{ width: 30px; }
  p{ font-size:1.02rem; line-height:1.8; }
}

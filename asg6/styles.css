/* ========== Base / Variables ========== */
:root{
  --title-h1:#2F7C78;                 /* H1 */
  --body-headings:#0E3F3C;            /* H2–H4 + P */

  /* Box fills @ 75% */
  --band-fill:rgba(218,215,170,0.75); /* #DAD7AA */
  --card-fill:rgba(255,253,204,0.75); /* #FFFDCC */
  --changes-fill:rgba(180,238,202,0.75);

  /* Wallpaper controls */
  --tint-alpha:0.55;                  /* gradient strength (0–1) */
  --tile-size:300px;                  /* pattern density */
  --tile:url("images/background_tile.png");
}

/* ========== Reset & Base Type ========== */
*{box-sizing:border-box}
html,body{margin:0;padding:0}

body{
  font-family:"EB Garamond",serif;
  color:var(--body-headings);
  line-height:1.75;
  background:#fff;        /* hard white base */
  position:relative;      /* contain pseudo elements */
  isolation:isolate;      /* keep negative z-index safe */
}

/* Small UI text */
.site-label,.back-link,.footer-note{
  font-family:"BBH Sans Hegarty",sans-serif;
  letter-spacing:.02em;
}

/* Titles */
.page-title,h1{
  font-family:"Bebas Neue",sans-serif;
  letter-spacing:.5px;
  color:var(--title-h1);
  text-transform:uppercase;
  margin:0;
}

h2,h3,h4,p{margin-block:0 0.6em;color:var(--body-headings)}
h2{font-weight:700;font-size:1.8rem}
h3{font-weight:600;font-size:1.3rem}
p{font-size:1.08rem}

/* ========== FIXED Wallpaper (single stack, no duplicate base) ========== */
/* Normal tile layer */
body.mirrored-pattern::before{
  content:"";
  position:fixed; inset:0; z-index:-1; pointer-events:none;

  background-image:
    linear-gradient(45deg,
      rgba(218,215,170,var(--tint-alpha)) 0%,
      rgba(180,238,202,var(--tint-alpha)) 100%),
    var(--tile);
  background-repeat:no-repeat,repeat;
  background-size:100% 100%,var(--tile-size) var(--tile-size);
  background-position:0 0, 0 0;
  background-attachment:fixed,fixed;
  background-blend-mode:screen; /* tint fills the ink */
}

/* Mirrored overlay (offset half-tile) */
body.mirrored-pattern::after{
  content:"";
  position:fixed; inset:0; z-index:-1; pointer-events:none;

  background-image:
    linear-gradient(45deg,
      rgba(218,215,170,var(--tint-alpha)) 0%,
      rgba(180,238,202,var(--tint-alpha)) 100%),
    var(--tile);
  background-repeat:no-repeat,repeat;
  background-size:100% 100%,var(--tile-size) var(--tile-size);
  background-position:0 0, var(--tile-size) var(--tile-size);
  background-attachment:fixed,fixed;
  background-blend-mode:screen;

  transform:scale(-1);
  opacity:.40;  /* mirror strength; tweak .30–.50 */
}

/* ========== Top Nav ========== */
.top-nav{
  max-width:1080px;
  margin:16px auto 0;
  padding:0 16px;
}
.back-link{
  text-decoration:none;
  color:var(--body-headings);
  font-size:.95rem;
}

/* ========== Title Banner ========== */
.title-band{
  max-width:1080px;
  margin:36px auto 0;
  padding:40px 32px;
  background:var(--band-fill);
  border-radius:18px;
  box-shadow:0 10px 28px rgba(0,0,0,.10),0 4px 12px rgba(0,0,0,.06);
}
.title-band .page-title{
  font-size:clamp(2.2rem,3.6vw + 1rem,3.2rem);
}

/* ========== Worksheet Card (2 columns) ========== */
.worksheet-card{
  max-width:1080px;
  margin:22px auto 56px;
  padding:32px;
  background:var(--card-fill);
  border-radius:18px;
  box-shadow:0 10px 28px rgba(0,0,0,.10),0 4px 12px rgba(0,0,0,.06);

  display:grid;
  grid-template-columns:repeat(2,minmax(0,1fr));
  column-gap:28px;
  row-gap:22px;
}

/* pill label */
.section-label{
  grid-column:1 / -1;
  display:inline-block;
  background:var(--band-fill);
  color:var(--body-headings);
  padding:8px 16px;
  border-radius:9999px;
  box-shadow:0 2px 6px rgba(0,0,0,.08);
  font-size:.98rem;
  margin:0 0 4px 6px;
}

/* ========== Hat Sections ========== */
.hat-section{
  padding:10px 6px 8px;
  border-bottom:1px solid rgba(0,0,0,.06);
}
.hat-heading{
  display:flex; align-items:center; gap:10px; margin:0 0 8px;
}
.hat-icon{ width:34px; height:auto; flex:0 0 auto; vertical-align:middle; }

/* Full-width green band */
.hat-section.changes{
  grid-column:1 / -1;
  background:var(--changes-fill);
  border-radius:14px;
  padding:12px 24px;
  margin-top:10px;
  box-shadow:0 2px 6px rgba(0,0,0,.08);
  border-bottom:none;
}
.hat-section.changes .hat-heading{ margin:4px 0 0; }

/* ========== Footer ========== */
.site-footer{
  max-width:1080px;
  margin:0 auto 24px;
  padding:0 16px;
  text-align:center;
}
.footer-note{
  margin:8px 0 0;
  font-size:1.25rem;
  font-family:"Bebas Neue",sans-serif;
  letter-spacing:.5px;
  color:var(--title-h1);
}

/* ========== Responsive ========== */
@media (max-width:900px){
  .worksheet-card{ grid-template-columns:1fr; }
  .hat-section{ border-bottom-color:rgba(0,0,0,.08); }
}
@media (max-width:600px){
  .title-band{ padding:32px; border-radius:14px; }
  .worksheet-card{ padding:24px; border-radius:14px; }
  .hat-icon{ width:30px; }
  p{ font-size:1.02rem; line-height:1.8; }
}

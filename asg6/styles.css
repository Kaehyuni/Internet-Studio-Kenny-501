/* ========== Base / Variables (comments required by assignment) ========== */
:root{
  /* Text colors */
  --title-h1: #2F7C78;              /* H1 color */
  --body-headings: #0E3F3C;         /* H2–H4 + P color */

  /* Box fills at 75% opacity */
  --band-fill: rgba(218,215,170,0.75);   /* #DAD7AA @ 75% */
  --card-fill: rgba(255,253,204,0.75);   /* #FFFDCC @ 75% */

  /* Background controls */
  --tintA: #DAD7AA;          /* top-left of gradient */
  --tintB: #B4EECA;          /* bottom-right of gradient */
  --tint-alpha: 0.55;        /* strength of gradient tint (0–1) */
  --tile-size: 25px;         /* pattern density; smaller = denser */

  /* Layout + effects */
  --container-max: 1080px;
  --pad-lg: 32px;
  --pad-md: 24px;
  --pad-sm: 16px;
  --radius-lg: 14px;
  --radius-md: 10px;
  --shadow-md: 0 10px 28px rgba(0,0,0,0.10),
               0 4px 12px rgba(0,0,0,0.06);
}

/* ========== Global Reset-ish ========== */
*{ box-sizing: border-box; }
html, body{ margin:0; padding:0; }

/* ========== Typography ========== */
body{
  font-family:"EB Garamond", serif;  /* default text */
  color:var(--body-headings);
  line-height:1.75;
  background:#fff;                   /* hard white base behind pattern */
  position:relative;                 /* containing context for ::after overlay */
}

/* Small UI text */
.site-label, .back-link, .footer-note{
  font-family:"BBH Sans Hegarty", sans-serif;
  letter-spacing:.02em;
}

/* Title text */
.page-title, h1{
  font-family:"Bebas Neue", sans-serif;
  letter-spacing:.5px;
  color:var(--title-h1);
  text-transform:uppercase;
  margin:0;
}

/* Headings + paragraphs */
h2,h3,h4,p{ color:var(--body-headings); margin-block:0 0.6em; }
h2{ font-weight:700; font-size:1.8rem; }
h3{ font-weight:600; font-size:1.3rem; }
p { font-size:1.08rem; }

/* ========== Background: tinted tile + mirrored overlay ========== */
/* Base layer: gradient + normal tile (colors the tile using 'screen') */
body.mirrored-pattern{
  background-color:#fff;
  background-image:
    linear-gradient(45deg,
      rgba(218,215,170,var(--tint-alpha)) 0%,
      rgba(180,238,202,var(--tint-alpha)) 100%
    ),
    url("images/hat_pattern.png");
  background-repeat: no-repeat, repeat;
  background-size: 100% 100%, var(--tile-size) var(--tile-size);
  background-position: 0 0, 0 0;
  background-attachment: scroll, scroll;      /* scrolls with content */
  background-blend-mode: screen;              /* tint fills the pattern ink */
}

/* Mirrored overlay: same tile flipped both axes to create kaleidoscope effect */
body.mirrored-pattern::after{
  content:"";
  position:fixed;       /* locked to viewport; scroll matches layer above */
  inset:0;
  pointer-events:none;
  z-index:-1;

  background-image:
    linear-gradient(45deg,
      rgba(218,215,170,var(--tint-alpha)) 0%,
      rgba(180,238,202,var(--tint-alpha)) 100%
    ),
    url("images/hat_pattern.png");
  background-repeat: no-repeat, repeat;
  background-size: 100% 100%, var(--tile-size) var(--tile-size);
  /* half-tile offset helps the mirror interlock with the base layer */
  background-position: 0 0, var(--tile-size) var(--tile-size);
  background-attachment: scroll, scroll;
  background-blend-mode: screen;

  transform: scale(-1);   /* flips horizontally + vertically */
  opacity: 0.5;           /* mirror strength; tweak 0.3–0.7 as desired */
}

/* ========== Layout Containers ========== */
.top-nav{
  max-width:var(--container-max);
  margin:var(--pad-sm) auto 0;
  padding:0 var(--pad-sm);
}
.back-link{
  text-decoration:none;
  color:var(--body-headings);
  font-size:.95rem;
}

/* Title band */
.title-band{
  max-width:var(--container-max);
  margin:48px auto 0;
  padding:var(--pad-lg);
  border-radius:var(--radius-lg);
  background:var(--band-fill);     /* #DAD7AA @ 75% */
  box-shadow:var(--shadow-md);
}
.site-label{
  margin:0 0 .35rem;
  font-size:.95rem;
  color:var(--body-headings);
}
.title-band .page-title{
  font-size:clamp(2.1rem, 3.2vw + 1rem, 3rem);
}

/* Worksheet card */
.worksheet-card{
  max-width:var(--container-max);
  margin:28px auto 64px;
  padding:var(--pad-lg);
  border-radius:var(--radius-lg);
  background:var(--card-fill);     /* #FFFDCC @ 75% */
  box-shadow:var(--shadow-md);
}
.section-label{
  display:inline-block;
  background:var(--band-fill);
  color:var(--body-headings);
  padding:6px 14px;
  border-radius:9999px;
  margin:0 0 18px 0;
  font-size:.95rem;
}

/* ========== Hat Sections ========== */
.hat-section{
  margin:22px 0 28px;
  padding-bottom:8px;
  border-bottom:1px solid rgba(0,0,0,0.08);
}

/* Title with icon on the left */
.hat-heading{
  display:flex;
  align-items:center;
  gap:12px;
  margin:0 0 10px;
}

/* Hat icons (transparent PNGs) */
.hat-icon{
  width:56px;
  height:auto;
  flex:0 0 auto;
  vertical-align:middle;
  image-rendering:auto;
}

/* ========== Footer ========== */
.site-footer{
  max-width:var(--container-max);
  margin:0 auto var(--pad-md);
  padding:0 var(--pad-sm);
  text-align:center;
}
.footer-note{
  margin:0.6rem 0 0;
  font-size:.95rem;
  color:var(--body-headings);
  opacity:.9;
}

/* ========== Responsive Tweaks ========== */
@media (max-width: 800px){
  .title-band{ padding:var(--pad-md); }
  .worksheet-card{ padding:var(--pad-md); }
  .hat-icon{ width:44px; }
  p{ font-size:1.02rem; line-height:1.8; }
}
@media (max-width: 480px){
  .title-band{ margin-top:36px; }
  .hat-icon{ width:40px; }
}
